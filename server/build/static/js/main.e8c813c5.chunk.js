(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{40:function(t,e,r){},61:function(t,e,r){"use strict";r.r(e);var c=r(1),n=r.n(c),a=r(12),u=r.n(a),i=r(5),s=(r(40),r(2)),o=r.n(s),d=r(4),l=r(8),j=r(10),b=r.n(j),p={fetchProducts:function(){var t=Object(d.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("/api/products");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),addProduct:function(){var t=Object(d.a)(o.a.mark((function t(e){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.post("/api/products",e);case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),deleteProduct:function(){var t=Object(d.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.delete("/api/products/".concat(e));case 2:return t.abrupt("return");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),editProduct:function(){var t=Object(d.a)(o.a.mark((function t(e,r){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.put("/api/products/".concat(e),r);case 2:return c=t.sent,t.abrupt("return",c.data);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),fetchCart:function(){var t=Object(d.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("/api/cart");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),checkout:function(){var t=Object(d.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.post("/api/checkout");case 2:return t.abrupt("return");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),addToCart:function(){var t=Object(d.a)(o.a.mark((function t(e){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.post("/api/add-to-cart",{productId:e});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=Object(l.b)("products/fetchProducts",Object(d.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.fetchProducts();case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})))),h=Object(l.b)("products/addProduct",function(){var t=Object(d.a)(o.a.mark((function t(e){var r,c,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.callback,c=e.product,t.next=3,p.addProduct(c);case 3:return n=t.sent,r&&r(),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),O=Object(l.b)("products/deleteProduct",function(){var t=Object(d.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.deleteProduct(e);case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),x=Object(l.b)("products/editProduct",function(){var t=Object(d.a)(o.a.mark((function t(e){var r,c,n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.productId,c=e.updateProduct,n=e.callback,t.next=3,p.editProduct(r,c);case 3:return a=t.sent,n&&n(),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),m=Object(l.b)("products/addToCart",function(){var t=Object(d.a)(o.a.mark((function t(e){var r,c,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.productId,c=e.callback,t.next=3,p.addToCart(r);case 3:return n=t.sent,c&&c(),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),v=Object(l.c)({name:"products",initialState:[],reducers:{},extraReducers:function(t){t.addCase(f.fulfilled,(function(t,e){return e.payload})),t.addCase(h.fulfilled,(function(t,e){var r=e.payload;return t.concat(r)})),t.addCase(O.fulfilled,(function(t,e){var r=e.payload;return t.filter((function(t){return t._id!==r}))})),t.addCase(x.fulfilled,(function(t,e){var r=e.payload;return t.map((function(t){return t._id===r._id?r:t}))})),t.addCase(m.fulfilled,(function(t,e){var r=e.payload.product;return t.map((function(t){return t._id===r._id?r:t}))}))}}).reducer,y=Object(l.b)("cart/fetchCart",Object(d.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.fetchCart();case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})))),k=Object(l.b)("cart/checkout",Object(d.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.checkout();case 2:return t.abrupt("return");case 3:case"end":return t.stop()}}),t)})))),w=Object(l.c)({name:"cart",initialState:[],reducers:{},extraReducers:function(t){t.addCase(y.fulfilled,(function(t,e){return e.payload})),t.addCase(k.fulfilled,(function(t,e){return[]})),t.addCase(m.fulfilled,(function(t,e){var r=e.payload.item,c=!1,n=t.map((function(t){return t._id===r._id?(c=!0,r):t}));return c?n:t.concat(r)}))}}).reducer,N=r(0),C=function(t){var e=t.item;return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:e.title}),Object(N.jsx)("td",{children:e.quantity}),Object(N.jsxs)("td",{children:["$",e.price.toFixed(2)]})]})},g=function(t){var e=t.cart,r=e.reduce((function(t,e){return t+e.price*e.quantity}),0);return Object(N.jsx)("table",{className:"cart-items",children:Object(N.jsxs)("tbody",{children:[Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"Item"}),Object(N.jsx)("th",{children:"Quantity"}),Object(N.jsx)("th",{children:"Price"})]}),e.map((function(t){return Object(N.jsx)(C,{item:t},t._id)})),Object(N.jsx)("tr",{children:Object(N.jsxs)("td",{colSpan:"3",className:"total",children:["Total: $",r.toFixed(2)]})})]})})},P=function(){var t=Object(i.b)(),e=Object(i.c)((function(t){return t.cart}));Object(c.useEffect)((function(){t(y())}),[t]);return 0===e.length?Object(N.jsxs)("div",{className:"cart",children:[Object(N.jsx)("h2",{children:"Your Cart"}),Object(N.jsx)("p",{children:"Your cart is empty"}),Object(N.jsx)("p",{children:"Total: $0"}),Object(N.jsx)("button",{className:"button checkout disabled",children:"Checkout"})]}):Object(N.jsxs)("div",{className:"cart",children:[Object(N.jsx)("h2",{children:"Your Cart"}),Object(N.jsx)(g,{cart:e}),Object(N.jsx)("button",{className:"button checkout",onClick:function(){window.confirm("Are you sure you want to checkout?")&&t(k())},children:"Checkout"})]})},q=function(){return Object(N.jsxs)("header",{children:[Object(N.jsx)("h1",{children:"The Shop!"}),Object(N.jsx)(P,{})]})},S=r(6),_=function(t){var e=t.setEditFormVisible,r=t.product,n=Object(i.b)(),a=Object(c.useState)(r.title),u=Object(S.a)(a,2),s=u[0],o=u[1],d=Object(c.useState)(r.price),l=Object(S.a)(d,2),j=l[0],b=l[1],p=Object(c.useState)(r.quantity),f=Object(S.a)(p,2),h=f[0],O=f[1],m=function(){e(!1)};return Object(N.jsxs)("div",{className:"edit-form",children:[Object(N.jsx)("h3",{children:"Edit Product"}),Object(N.jsxs)("form",{children:[Object(N.jsxs)("div",{className:"input-group",children:[Object(N.jsx)("label",{htmlFor:"product-name",children:"Product Name"}),Object(N.jsx)("input",{type:"text",id:"product-name",value:s,onChange:function(t){return o(t.target.value)}})]}),Object(N.jsxs)("div",{className:"input-group",children:[Object(N.jsx)("label",{htmlFor:"product-price",children:"Price"}),Object(N.jsx)("input",{type:"text",id:"product-price",value:j,onChange:function(t){return b(t.target.value)}})]}),Object(N.jsxs)("div",{className:"input-group",children:[Object(N.jsx)("label",{htmlFor:"product-quantity",children:"Quantity"}),Object(N.jsx)("input",{type:"text",id:"product-quantity",value:h,onChange:function(t){return O(t.target.value)}})]}),Object(N.jsxs)("div",{className:"actions form-actions",children:[Object(N.jsx)("button",{className:"button",onClick:function(t){return function(t){t.preventDefault();var e={title:s,price:j,quantity:h};n(x({productId:r._id,updateProduct:e,callback:m}))}(t)},children:"Update"}),Object(N.jsx)("button",{className:"button",onClick:function(t){return t.preventDefault(),void e(!1)},children:"Cancel"})]})]})]})},F=function(t){var e=t.product,r=Object(i.b)(),n=Object(c.useState)(!1),a=Object(S.a)(n,2),u=a[0],s=a[1],o=function(){window.confirm("Are you sure you want to delete ".concat(e.title,"?"))&&r(O(e._id))},d=function(t){t.preventDefault(),r(m({productId:e._id,callback:l}))},l=function(){window.alert("Successfully added ".concat(e.title," to cart!"))};return u?Object(N.jsxs)("div",{className:"product",children:[Object(N.jsxs)("div",{className:"product-details",children:[Object(N.jsx)("h3",{children:e.title}),Object(N.jsxs)("p",{className:"price",children:["$",e.price]}),Object(N.jsxs)("p",{className:"quantity",children:[e.quantity," left in stock"]}),Object(N.jsxs)("div",{className:"actions product-actions",children:[Object(N.jsx)("button",{className:"button add-to-cart ".concat(e.quantity<=0?"disabled":""),onClick:function(t){return d(t)},children:"Add to Cart"}),Object(N.jsx)("button",{className:"button edit",children:"Edit"})]}),Object(N.jsx)("a",{className:"delete-button",onClick:function(){return o()},children:Object(N.jsx)("span",{children:"X"})})]}),Object(N.jsx)(_,{setEditFormVisible:s,product:e})]}):Object(N.jsx)("div",{className:"product",children:Object(N.jsxs)("div",{className:"product-details",children:[Object(N.jsx)("h3",{children:e.title}),Object(N.jsxs)("p",{className:"price",children:["$",e.price]}),Object(N.jsxs)("p",{className:"quantity",children:[e.quantity," left in stock"]}),Object(N.jsxs)("div",{className:"actions product-actions",children:[Object(N.jsx)("button",{className:"button add-to-cart ".concat(e.quantity<=0?"disabled":""),onClick:function(t){return d(t)},children:"Add to Cart"}),Object(N.jsx)("button",{className:"button edit",onClick:function(){return s(!0)},children:"Edit"})]}),Object(N.jsx)("a",{className:"delete-button",onClick:function(){return o()},children:Object(N.jsx)("span",{children:"X"})})]})})},A=function(){var t=Object(i.b)(),e=Object(i.c)((function(t){return t.products}));return Object(c.useEffect)((function(){t(f())}),[t]),Object(N.jsxs)("div",{className:"product-listing",children:[Object(N.jsx)("h2",{children:"Products"}),e.map((function(t){return Object(N.jsx)(F,{product:t},t.title)}))]})},E=function(){var t=Object(i.b)(),e=Object(c.useState)(!1),r=Object(S.a)(e,2),n=r[0],a=r[1],u=Object(c.useState)(""),s=Object(S.a)(u,2),o=s[0],d=s[1],l=Object(c.useState)(""),j=Object(S.a)(l,2),b=j[0],p=j[1],f=Object(c.useState)(""),O=Object(S.a)(f,2),x=O[0],m=O[1],v=function(){d(""),p(""),m(""),a(!1)};return Object(N.jsxs)("div",{className:"add-form ".concat(n?"visible":""),children:[Object(N.jsx)("p",{children:Object(N.jsx)("button",{className:"button add-product-button",onClick:function(){return a(!n)},children:"Add A Product"})}),Object(N.jsx)("h3",{children:"Add Product"}),Object(N.jsxs)("form",{children:[Object(N.jsxs)("div",{className:"input-group",children:[Object(N.jsx)("label",{htmlFor:"product-name",children:"Product Name"}),Object(N.jsx)("input",{type:"text",id:"product-name",value:o,onChange:function(t){return d(t.target.value)}})]}),Object(N.jsxs)("div",{className:"input-group",children:[Object(N.jsx)("label",{htmlFor:"product-price",children:"Price"}),Object(N.jsx)("input",{type:"text",id:"product-price",value:b,onChange:function(t){return p(t.target.value)}})]}),Object(N.jsxs)("div",{className:"input-group",children:[Object(N.jsx)("label",{htmlFor:"product-quantity",children:"Quantity"}),Object(N.jsx)("input",{type:"text",id:"product-quantity",value:x,onChange:function(t){return m(t.target.value)}})]}),Object(N.jsxs)("div",{className:"actions form-actions",children:[Object(N.jsx)("button",{className:"button",onClick:function(e){return e.preventDefault(),void t(h({product:{title:o,quantity:x,price:b},callback:v}))},children:"Add"}),Object(N.jsx)("button",{className:"button",onClick:function(t){return t.preventDefault(),void a(!1)},children:"Cancel"})]})]})]})},I=function(){return Object(N.jsxs)("div",{id:"app",children:[Object(N.jsx)(q,{}),Object(N.jsxs)("main",{children:[Object(N.jsx)(A,{}),Object(N.jsx)(E,{})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=Object(l.a)({reducer:{products:v,cart:w}});u.a.render(Object(N.jsx)(n.a.StrictMode,{children:Object(N.jsx)(i.a,{store:T,children:Object(N.jsx)(I,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[61,1,2]]]);
//# sourceMappingURL=main.e8c813c5.chunk.js.map